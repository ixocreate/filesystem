language: php
sudo: false

php:
  - "7.1"
  - "7.2"
  - "7.3"

cache:
  directories:
    - $HOME/.composer/cache

install:
  - composer install --prefer-dist --no-interaction

script:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/phpunit --coverage-clover build/logs/clover.xml; else vendor/bin/phpunit; fi
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/php-cs-fixer fix --config=vendor/ixocreate/coding-standard/.php_cs -v --dry-run --using-cache=no --path-mode=intersection `git diff --name-only --diff-filter=ACMRTUXB $TRAVIS_COMMIT_RANGE`; fi

after_success:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then php vendor/bin/php-coveralls -v; fi

notifications:
  email: false
  slack:
    secure: "sPMLsG89A1fZGhfk8FNqvgdnL8XRoH4glyGGS7owtPlWxqw1TnfOLbEGMai9WaY0jppplmb7ADHaz/zSwC/OwVWp9D9dpZCwm/1Bc55+8pdQKwuBSIH4ass6Eol3dFo6iQfY6S4P0kkmJ2PVNGR3ZTKo5NCF6yxstrUcorOyUHh2fMlQNsSJVO8/ITULV088UWKnCAHWvqRJFMdUkEOhW78qUb2m5fx5yDcQ9DBj/Ww8cXoWDhOKDlwSn2WWjaAnO7JQD7+GX+PLarrbP2GtqZ5blznDjTvAHCVyIBZzISZ9BZi2qQjTJOB58pxZsCt3wU0vXWqdDpwo1QmCETQazHUOnmpC3ZfuBEE042lo6BfwYMnZIXENBFl141m/hlhEHfpIHQIAxl6yKvP6EAv/8SWMpAvwsMIu7CppHUyOlrMXbJppRfDBeFAfpokqYWabogiH8nz9e6+1lIneOpjd+css5mRJqgML4Aw3EdX9t3K+ttvaprr7JF+K1S/STvfMUTDzYGFrcwf7nc6BMp9DvUUlCVqccET7xbyGahnk3f991ANOP8NrosfdB6qyNM3Yue9VwlAupwCxEyJ4kI1zmB1A796AI4TNPbDmNZwiNkMiPM/Q/IAojFgNK6YK2g+QknQJxs2d0ouSCN1MiS0td3JGPJ3qXfbZd+plGC3OcTY="
